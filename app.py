import streamlit as st

st.set_page_config(page_title="Payroll App Full", layout="wide")

# --- Î”Î•Î”ÎŸÎœÎ•ÎÎ‘ ÎšÎ›Î™ÎœÎ‘ÎšÎ™Î©Î ---
klimakia_data = {
    "Î‘": 2589.31, "Î’": 2508.87, "Î“": 2428.41, "Î”": 2364.07,
    "1": 2234.94, "2": 2187.53, "3": 2087.69, "4": 1963.82,
    "5": 1892.43, "6": 1717.38, "7": 1667.92, "8": 1570.34,
    "9": 1454.83, "10": 1321.14, "11": 1309.80, "12": 1299.21,
    "13": 1285.07, "14": 1275.99, "15": 1266.41, "16": 1258.08,
    "17": 1224.28, "18": 1216.95, "19": 1202.63, "20": 1195.82,
    "21": 1195.82, "22": 1195.82, "23": 1195.82
}

st.title("ğŸ“Š Î Î»Î®ÏÎ·Ï‚ Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î®Ï‚ ÎœÎ¹ÏƒÎ¸Î¿Î´Î¿ÏƒÎ¯Î±Ï‚")

# --- Î“Î¡Î‘ÎœÎœÎ— 5 ---
d5_selection = st.selectbox("ÎœÎ¹ÏƒÎ¸Î¿Î»Î¿Î³Î¹ÎºÏŒ ÎšÎ»Î¹Î¼Î¬ÎºÎ¹Î¿ (D5):", list(klimakia_data.keys()))
e5 = klimakia_data[d5_selection]

# --- Î“Î¡Î‘ÎœÎœÎ•Î£ 6-14 ---
col_top1, col_top2 = st.columns(2)
with col_top1:
    d6_per = st.number_input("Î§ÏÎ¿Î½Î¿ÎµÏ€Î¯Î´Î¿Î¼Î± % (D6)", value=0.0) / 100
    e6 = e5 * d6_per
    
    d7_val = st.number_input("Î•Ï€Î¯Î´Î¿Î¼Î± % (D7)", step=1, value=0) # Î‘ÎºÎ­ÏÎ±Î¹Î¿
    
    d9_val = st.number_input("Î Î¿Î»Ï…ÎµÏ„Î¯Î± (D9)", step=1, value=0) # Î‘ÎºÎ­ÏÎ±Î¹Î¿
    e9 = d9_val 
    
    d11_choice = st.checkbox("Î•Ï€Î¯Î´Î¿Î¼Î± Î“Î¬Î¼Î¿Ï… (10%) (B11)", value=False)
    e11 = (e5 * 0.10) if d11_choice else 0.0

with col_top2:
    e12 = st.number_input("Î Î¡ÎŸÎ£Î‘Î¥ÎÎ—Î£Î•Î™Î£ ÎœÎ™Î£Î˜ÎŸÎ¥ (B12)", value=0.0)
    
    # E14: ÎšÎ±Ï„Î±Î²Î±Î»Î»ÏŒÎ¼ÎµÎ½ÎµÏ‚ Î‘Ï€Î¿Î´Î¿Ï‡Î­Ï‚
    e14 = e5 + e6 + e11 + e12 + e9 # Î ÏÎ¿ÏƒÎ¬ÏÎ¼Î¿ÏƒÎµ Ï„Î¿ Î¬Î¸ÏÎ¿Î¹ÏƒÎ¼Î± Î±Î½ Ï‡ÏÎµÎ¹Î¬Î¶ÎµÏ„Î±Î¹
    st.metric("ÎšÎ±Ï„Î±Î²Î±Î»Î»ÏŒÎ¼ÎµÎ½ÎµÏ‚ Î‘Ï€Î¿Î´Î¿Ï‡Î­Ï‚ (E14)", f"{e14:.2f} â‚¬")

# --- Î¥Î ÎŸÎ Î›Î‘Î™Î£Î™ÎŸ 1: Î©Î¡Î•Î£ (D17, D18, D19) ---
with st.container(border=True):
    st.subheader("ğŸ•’ ÎšÎ±Ï„Î±Î½Î¿Î¼Î® Î©ÏÏÎ½ ÎœÎ®Î½Î±")
    c1, c2, c3 = st.columns(3)
    d17 = c1.number_input("ÎÏÎµÏ‚ ÎšÎ±Î½. Î‘Ï€Î±ÏƒÏ‡ÏŒÎ»Î·ÏƒÎ·Ï‚ (D17)", value=162.50, step=0.50)
    d18 = c2.number_input("ÎÏÎµÏ‚ Î†Î´ÎµÎ¹Î±Ï‚ (D18)", value=0.0, step=0.50)
    d19 = c3.number_input("ÎÏÎµÏ‚ Î‘Ï€Î¿Ï…ÏƒÎ¯Î±Ï‚ (D19)", value=0.0, step=0.50)
    g19 = d17 + d18 + d19
    if g19 != 162.50:
        st.markdown(f'<p style="color:red; font-weight:bold;">âš ï¸ Î£ÏÎ½Î¿Î»Î¿ Î©ÏÏÎ½: {g19:.2f} (Î ÏÎ­Ï€ÎµÎ¹ Î½Î± ÎµÎ¯Î½Î±Î¹ 162.50)</p>', unsafe_allow_html=True)

# --- Î©Î¡ÎŸÎœÎ™Î£Î˜Î™Î‘ ---
d175 = e14 / 162.50
d177 = d175 # Î‘Î½Î±Î¼Î¿Î½Î® Î³Î¹Î± Ï„Î¿Î½ Ï€Î»Î®ÏÎ· Ï„ÏÏ€Î¿ Ï„Î¿Ï… D177

# --- Î¥Î Î•Î¡Î©Î¡Î™Î•Î£ (29-31) ---
st.subheader("âš¡ Î¥Ï€ÎµÏÏ‰ÏÎ¯ÎµÏ‚")
u1, u2, u3 = st.columns(3)

with u1:
    d29 = st.number_input("41 Î¥Î Î•Î¡Î•Î¡Î“Î‘Î£Î™Î‘ 20% (B29)", step=1, value=0)
    st.caption("f29: Î©ÏÎ¿Î¼Î¯ÏƒÎ¸Î¹Î¿ Î¥Ï€ÎµÏÏ‰ÏÎ¹Ï‰Î½ x Î©ÏÎµÏ‚ x 120%")
    e29 = (d177 * d29) * 1.20

with u2:
    d30 = st.number_input("Î¥Î Î•Î¡Î©Î¡Î™Î‘ Îœ.Î‘. 1,4 1-150 (B30)", step=1, value=0)
    st.caption("f30: Î©ÏÎ¿Î¼Î¯ÏƒÎ¸Î¹Î¿ Î¥Ï€ÎµÏÏ‰ÏÎ¹Ï‰Î½ x Î©ÏÎµÏ‚ x 140%")
    e30 = (d177 * d30) * 1.40

with u3:
    d31 = st.number_input("51 Î¥Î Î•Î¡Î©Î¡Î™Î‘ Î§.Î‘. 120% (B31)", step=1, value=0)
    st.caption("f31: Î©ÏÎ¿Î¼Î¯ÏƒÎ¸Î¹Î¿ Î¥Ï€ÎµÏÏ‰ÏÎ¹Ï‰Î½ x Î©ÏÎµÏ‚ x 120%")
    e31 = (d177 * d31) * 1.20

# --- Î¥Î ÎŸÎ Î›Î‘Î™Î£Î™ÎŸ 2: ÎÎ¥Î§Î¤Î•Î¡Î™ÎÎ‘ (33-36) ---
with st.container(border=True):
    st.subheader("ğŸŒ™ Î ÏÎ¿ÏƒÎ±Ï…Î¾Î®ÏƒÎµÎ¹Ï‚ ÎÏÏ‡Ï„Î±Ï‚")
    n1, n2, n3, n4 = st.columns(4)
    
    with n1:
        d33 = st.number_input("Î Î¡ÎŸÎ£Î‘Î¥ÎÎ—Î£Î— ÎÎ¥Î§Î¤Î‘Î£ (B33)", step=1, value=0)
        st.caption("f33: Î©ÏÎ¿Î¼Î¯ÏƒÎ¸Î¹Î¿ x Î©ÏÎµÏ‚ x 25%")
        e33 = d33 * d175 * 0.25
        
    with n2:
        d34 = st.number_input("43 Î Î¡ÎŸÎ£.Î¥Î Î•Î¡Î•Î¡Î“Î‘Î£Î™Î‘Î£ ÎÎ¥ÎšÎ¤Î‘Î£ 20% (B34)", step=1, value=0)
        st.caption("f34: (ÎµÏ€Î¹Ï€Î»ÎµÎ¿Î½ ÏƒÏ„Î·Î½ Î¥Ï€ÎµÏÎµÏÎ³Î±ÏƒÎ¹Î±) Î©ÏÎ¿Î¼Î¯ÏƒÎ¸Î¹Î¿ Î¥Ï€ÎµÏÏ‰ÏÎ¹Ï‰Î½ x Î©ÏÎµÏ‚ x 120% x 25%")
        e34 = (d177 * d34) * 1.20 * 0.25
        
    with n3:
        d35 = st.number_input("Î Î¡ÎŸÎ£.Î¥Î Î•Î¡Î©Î¡Î™Î‘Î£ ÎÎ¥Î§Î¤Î‘Î£ (B35)", step=1, value=0)
        st.caption("f35: (ÎµÏ€Î¹Ï€Î»ÎµÎ¿Î½ ÏƒÏ„Î·Î½ Î¥Ï€ÎµÏÏ‰ÏÎ¹Î±) Î©ÏÎ¿Î¼Î¯ÏƒÎ¸Î¹Î¿ Î¥Ï€ÎµÏÏ‰ÏÎ¹Ï‰Î½ x Î©ÏÎµÏ‚ x 140% x 25%")
        e35 = (d177 * d35) * 1.40 * 0.25
        
    with n4:
        d36 = st.number_input("Î Î¡ÎŸÎ£.Î¥Î Î•Î¡Î©Î¡Î™Î‘Î£ ÎÎ¥ÎšÎ¤Î‘Î£ Î§.A. 120% (B36)", step=1, value=0)
        st.caption("f36: (ÎµÏ€Î¹Ï€Î»ÎµÎ¿Î½ ÏƒÏ„Î·Î½ Î¥Ï€ÎµÏÏ‰ÏÎ¹Î±) Î©ÏÎ¿Î¼Î¯ÏƒÎ¸Î¹Î¿ Î¥Ï€ÎµÏÏ‰ÏÎ¹Ï‰Î½ x Î©ÏÎµÏ‚ x 180% x 25%")
        e36 = (d177 * d36) * 1.80 * 0.25

# --- Î“Î¡Î‘ÎœÎœÎ— 182 ---
st.divider()
d182_val = 5.40
e182 = (g19 / 6.66) * d182_val
st.write(f"Î‘Ï€Î¿Î¶Î·Î¼Î¯Ï‰ÏƒÎ· Î¤ÏÎ¿Ï†Î®Ï‚ (E182): **{e182:.2f} â‚¬**")
